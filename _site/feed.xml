<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>nktmemo_ja</title>
    <description>nktmemo provides interesting articles about Machine Learning and NLP.
</description>
    <link>http://nktmemoja.github.io/</link>
    <atom:link href="http://nktmemoja.github.io/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Sun, 10 Jul 2016 00:29:15 +0900</pubDate>
    <lastBuildDate>Sun, 10 Jul 2016 00:29:15 +0900</lastBuildDate>
    <generator>Jekyll v3.0.0</generator>
    
      <item>
        <title></title>
        <description>&lt;p&gt;Semi-Supervised Node Weighting scheme for graphs and its application to term weighting for  webpages&lt;/p&gt;

&lt;p&gt;In this article, we propose semi-supervised node weighting scheme for graphs and apply it to term weighting for Webpages (HTML documents).&lt;/p&gt;

&lt;h2 id=&quot;notation&quot;&gt;Notation&lt;/h2&gt;

&lt;h2 id=&quot;formulation&quot;&gt;Formulation&lt;/h2&gt;

&lt;h2 id=&quot;experiments&quot;&gt;Experiments&lt;/h2&gt;

&lt;p&gt;半教師付き学習を用いたグラフ頂点への重み付け手法とウェブページ解析への応用&lt;/p&gt;

&lt;p&gt;半教師付き学習を用いたグラフ頂点へ重み付け手法を考えてみました．
ここではそのアイデアと、ウェブページ (HTML文書) 解析への応用を紹介します．&lt;/p&gt;

&lt;h1 id=&quot;section&quot;&gt;動機&lt;/h1&gt;
&lt;p&gt;これをやろうと思った動機は，ウェブページ解析の難しさにあります．
文書を解析する際に，文書中の単語に重みをつけるというのはよくある話だと思います．
しかしながら，ウェブページは自身の内容とは関係のない，多くのノイズ（ヘッダーフッター，ナビゲーション，広告など）を含んでいます．
個人的には50-90%がノイズだと思っています．
このノイズのせいで，通常の文書解析用に設計された重み付け手法（例えばTFIDF）が機能しないことが少なくありません．
そこで，今回はこの問題の解決を目指しました．
結果的にウェブページ解析だけではなくて，他のことにも使えそうだったので，一般化したタイトルにしました．&lt;/p&gt;

&lt;h1 id=&quot;section-1&quot;&gt;定式化&lt;/h1&gt;
&lt;p&gt;基本的なアイデアは，&lt;em&gt;ウェブページのタイトルやディスクリプション中に現れる単語は重要だ&lt;/em&gt;と仮定するところにあります．
こうすることで，少量の高い重みを持つべき単語集合が得られます．
さらに，&lt;em&gt;それらと似ている単語も重要だ&lt;/em&gt;と仮定することで，全単語集合に対して重みをつけていきます．
以下，これを一般化して，定式化していきます．&lt;/p&gt;

&lt;p&gt;データ点（単語）集合を&lt;script type=&quot;math/tex&quot;&gt;V = \{1, \ldots, n\}&lt;/script&gt;，
高い重みを持つべき点集合（タイトルとディスクリプションに出現する単語）を&lt;script type=&quot;math/tex&quot;&gt;V^{*} \subseteq V&lt;/script&gt;，
単語間の類似度行列を，&lt;script type=&quot;math/tex&quot;&gt;\boldsymbol{S}$とします．
データ点&lt;/script&gt;i&lt;script type=&quot;math/tex&quot;&gt;の重みを，&lt;/script&gt;f_i&lt;script type=&quot;math/tex&quot;&gt;とすると，&lt;/script&gt;i \in V^{*}&lt;script type=&quot;math/tex&quot;&gt;である&lt;/script&gt;f_i$$が大きな値を取るのが望ましいです．
これらを踏まえて，以下の問題を解くことにします．&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\begin{align*}
\max_{\boldsymbol{f}} = 
\end{align*}&lt;/script&gt;

&lt;p&gt;半教師付きだけど、ウェブページからなら少量の教師データが自動的に与えられる、という感じですね。&lt;/p&gt;

&lt;p&gt;さて、定式化していきます。&lt;/p&gt;

&lt;h1 id=&quot;section-2&quot;&gt;実験&lt;/h1&gt;
&lt;p&gt;定性評価をしてみました。ウェブページは大きく分けて以下の二つに分類できると思われます。&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;メインコンテンツに多くの文字が含まれるページ (ニュース、コラムなど)&lt;/li&gt;
  &lt;li&gt;メインコンテンツにあまり文字が含まれないページ (画像、動画、構造化情報など)&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;2の構造化情報は、例えば商品のページで、商品名、価格、性能などしかかかれていないものを指します。これらの代表として、以下の5つのページを選びました。&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;1&lt;/li&gt;
  &lt;li&gt;2&lt;/li&gt;
  &lt;li&gt;3&lt;/li&gt;
  &lt;li&gt;4&lt;/li&gt;
  &lt;li&gt;5&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;これらのページに対して、高い重みがついた単語TOP20を見て、定性的に評価します。&lt;/p&gt;

</description>
        <pubDate>Sun, 10 Jul 2016 00:29:15 +0900</pubDate>
        <link>http://nktmemoja.github.io/2016/07/10/laplacianweighting.html</link>
        <guid isPermaLink="true">http://nktmemoja.github.io/2016/07/10/laplacianweighting.html</guid>
        
        
      </item>
    
      <item>
        <title>Laplacian Node Weighting (LNW)を用いてHTMLから本文を抽出する</title>
        <description>&lt;h2 id=&quot;section&quot;&gt;はじめに&lt;/h2&gt;
&lt;p&gt;前回&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://nktmemoja.github.io/jekyll/update/2016/07/06/laplaciannodeweighting.html&quot; target=&quot;_blank&quot;&gt;ラプラス正則化を使った，半教師付きグラフノード重み付け&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;というのを紹介してみました．以下これをLNW (Laplacian node weighting)と呼びます．
今回はこれを用いて，ウェブページ（HTML）から本文を抽出してみたいと思います．
このタスクは，本文抽出とかメインコンテンツ抽出 (Main content extraction)とか呼ばれています．
ウェブページは，自身のコンテンツだけでなく，ヘッダーフッター，メニュー，広告などのノイズも多く含んでいます．
最近では，広告配信業者がページの内容に応じて関連の高い広告を埋め込んでいたりするので，ウェブページの解析がより難しくなっているように思います…．
なので，ウェブページを解析するためには，これらを除去または，テキストへの重み付けが必要になります．&lt;/p&gt;

&lt;p&gt;テキストというのは，DOMツリー内のテキストノードを指します．
HTMLはDOMツリーで表されます．
DOMツリー内には，エレメントノードとテキストノードが存在します．
エレメントノードとは，HTMLのタグに相当します．
テキストノードは普通のテキストを指します．&lt;/p&gt;

&lt;p&gt;さて，LNWは半教師付き学習アルゴリズムですが，教師データが自動的に得られる場合があります．
その一例が，ウェブページです．
ウェブページは&lt;meta /&gt;内にタイトルやディスクリプション，キーワードなどの重要な情報を持っています．
これにより，教師データがほぼ自動的に得られます．
ウェブページでなくとも，論文だと，タイトル・アブストラクトなどが得られますし，大体のテキストに適用できるのではないかと思います．&lt;/p&gt;

&lt;p&gt;まず，ステップ1でLNWを使って，テキストノードに重み付けをします．
その後，その情報を元に単語に重みを付与していきます．&lt;/p&gt;

&lt;h3 id=&quot;lnw&quot;&gt;テキストノードへの重み付け (LNW使用)&lt;/h3&gt;
&lt;p&gt;LNWは，隣接行列&lt;script type=&quot;math/tex&quot;&gt;\mathbf{A}&lt;/script&gt;と，初期値&lt;script type=&quot;math/tex&quot;&gt;\mathbf{u}&lt;/script&gt;を必要としますので，これを定義します．
まず，テキストノード内のテキストを文とみなしこれを重み付きグラフのノードだと考えます．
そして，ノード間のエッジの重みを，ノード間のテキストの類似度とします．
なので，&lt;script type=&quot;math/tex&quot;&gt;A_{ij}&lt;/script&gt;は，テキストノード&lt;script type=&quot;math/tex&quot;&gt;i&lt;/script&gt;のテキストと，テキストノード&lt;script type=&quot;math/tex&quot;&gt;j&lt;/script&gt;のテキストとの類似度になります．
DOMツリーを対象のグラフとして直接使わないことに注意してください．
次に&lt;script type=&quot;math/tex&quot;&gt;\mathbf{u}&lt;/script&gt;ですが，まず考えられるのが，タイトルに該当するテキストノードを1に，その他を0にするという方法です．
これだとほとんどが0になってしまうので，タイトルとの類似度を&lt;script type=&quot;math/tex&quot;&gt;\mathbf{u}&lt;/script&gt;に設定し，少し情報を増やします．
つまり，&lt;script type=&quot;math/tex&quot;&gt;u_i&lt;/script&gt;はタイトルと，テキストノード&lt;script type=&quot;math/tex&quot;&gt;i&lt;/script&gt;との類似度です．
まとめると，まずタイトルは最重要であるとし，次にタイトルと似ているものは重要であるとします．
これを表現しているのが，&lt;script type=&quot;math/tex&quot;&gt;\mathbf{u}&lt;/script&gt;です．
そして，各ノードは，内容が似ているノードとリンクすることにします．これを表現しているのが，&lt;script type=&quot;math/tex&quot;&gt;\mathbf{A}&lt;/script&gt;となります．&lt;/p&gt;

&lt;h3 id=&quot;section-1&quot;&gt;単語への重み付け&lt;/h3&gt;
&lt;p&gt;ステップ1でテキストノードの重要度を計算した後，単語への重み付けを実行します．
今回採用するアイデアはシンプルで，&lt;strong&gt;重要なテキストノードに出現する単語は重要である&lt;/strong&gt;というものです．
つまり，単語&lt;script type=&quot;math/tex&quot;&gt;v&lt;/script&gt;への重み&lt;script type=&quot;math/tex&quot;&gt;f(v)&lt;/script&gt;を以下で定義します．&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\begin{align*}
f(v) = \sum_{t \in T(v)} w(t) c(v, t)
\end{align*}&lt;/script&gt;

&lt;p&gt;ただし，&lt;script type=&quot;math/tex&quot;&gt;T(v)&lt;/script&gt;は，単語&lt;script type=&quot;math/tex&quot;&gt;v&lt;/script&gt;が出現するテキストノード集合，&lt;script type=&quot;math/tex&quot;&gt;w(t)&lt;/script&gt;はステップ1で計算したテキストノード&lt;script type=&quot;math/tex&quot;&gt;t&lt;/script&gt;への重み，
&lt;script type=&quot;math/tex&quot;&gt;c(v, t)&lt;/script&gt;は，単語&lt;script type=&quot;math/tex&quot;&gt;v&lt;/script&gt;のテキストノード&lt;script type=&quot;math/tex&quot;&gt;t&lt;/script&gt;での出現回数です．&lt;/p&gt;

&lt;h2 id=&quot;section-2&quot;&gt;実験&lt;/h2&gt;
&lt;p&gt;実験してみました．
今回は結果をtf (term frequency)と比較します．
本当はtfidfと比較したいのですが，idfがコーパス依存なので，tfだけと比較します．&lt;/p&gt;

&lt;p&gt;データは，ニュース記事とレビュー記事にします．ともにノイズが多いものを選びました．
ノイズというのは，ヘッダーフッター，メニュー，広告などを指します．
最近のウェブページはこのような多くのノイズを含んでいます．
最近では，広告配信業者がページの内容に応じて関連の高い広告を埋め込んでいたりするので，ウェブページの解析がより難しくなっているように思います…．&lt;/p&gt;

&lt;p&gt;話がそれましたが，以下の二つのURLをデータとします．&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;ニュース記事: &lt;a href=&quot;http://gigazine.net/news/20160706-santa-susana-nuclear-disaster/&quot; target=&quot;_blank&quot;&gt;アメリカ初のメルトダウンで最大の原発事故にもかかわらず隠蔽された「サンタスザーナ野外実験所」での事故に見る危機対応の難しさ - GIGAZINE&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;レビュー記事: &lt;a href=&quot;http://tabelog.com/shizuoka/A2201/A220102/22000892/dtlrvwlst/37192867/?lid=unpickup_review&quot; target=&quot;_blank&quot;&gt;『生しらす！』by 0141 : 和食処 するが蕎 - 蒲原/そば [食べログ]&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;ニュース記事に対する結果を図1に示します．
なお，タイトルに出現する単語は表示していません．&lt;/p&gt;

&lt;center&gt;表1 &lt;/center&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;順位&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;テキスト&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;スコア&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;1&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.221384&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;屋外料理のデザートに、スモーキーで甘い「りんごのグリル」はいかが？ ｜ ライフハッカー［日本版］&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;2&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.202427&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;屋外料理のデザートに、スモーキーで甘い「りんごのグリル」はいかが？&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;3&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.121461&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ライフハッカー[日本版]&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;4&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.100682&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;私にとって、屋外でグリルといえば「肉」を即座に思い浮かべます。グリルでサイドメニューを作るという考えはほとんどなく、りんごをグリルするなど考えたこともないのですが、「Food52」は私のグリルの概念を変えるとっておきのアイデアをシェアしてくれました。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;5&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.091922&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;料理術&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;6&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.090498&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;しましたが、どういうわけかりんごを紹介したことはありません。りんごはBBQにぴったりで、とってもおいしいサイドディッシュまたはデザートになり得るのです。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;7&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.082355&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ライフハッカーでもフルーツをグリルすることのメリットを紹介&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;8&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.057824&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;固い酸味のあるりんご（グラニースミスが最適です）の芯を抜き、半分に切って植物油かバターを表面に軽く塗ったら焼き目が付くまで中火で数分間グリルします。もっとフレーバーを加えるなら、事前にマリネするのも手です。（アイデアは下記のリンクを参照してください。）もしくはグリルする前に、ベーコンの油を塗るのもおすすめです。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;9&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.029545&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;山形県産 りんご ご家庭用 サンふじ 約5kg(生食可/約13玉-20玉入り/時期により品種変更)&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;10&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.001901&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;| Food 52&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;11&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.0&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;google+&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;12&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.0&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;Advertising&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;13&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.0&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;メディアジーンサイト&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;14&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.0&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;子育て&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;15&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.0&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;家電&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;16&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.0&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ツール&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;17&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.0&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;文房具&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;18&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.0&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;住まい&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;19&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.0&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;お知らせ&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;20&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.0&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;健康&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;
&lt;center&gt;表2&lt;/center&gt;

&lt;table&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;順位&lt;/td&gt;
      &lt;td&gt;テキスト&lt;/td&gt;
      &lt;td&gt;スコア&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;0.098203&lt;/td&gt;
      &lt;td&gt;統計だと、離婚率の低い結婚適齢期は「28～32歳」らしい｜ギズモード・ジャパン&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;0.075638&lt;/td&gt;
      &lt;td&gt;28～32歳までに結婚した夫婦が最も結婚生活が長く、離婚率が低い&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;0.069549&lt;/td&gt;
      &lt;td&gt;統計だと、離婚率の低い結婚適齢期は「28～32歳」らしい&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;0.069549&lt;/td&gt;
      &lt;td&gt;統計だと、離婚率の低い結婚適齢期は「28～32歳」らしい&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;5&lt;/td&gt;
      &lt;td&gt;0.069549&lt;/td&gt;
      &lt;td&gt;統計だと、離婚率の低い結婚適齢期は「28～32歳」らしい&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;6&lt;/td&gt;
      &lt;td&gt;0.069549&lt;/td&gt;
      &lt;td&gt;統計だと、離婚率の低い結婚適齢期は「28～32歳」らしい&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;7&lt;/td&gt;
      &lt;td&gt;0.066137&lt;/td&gt;
      &lt;td&gt;一般的には、結婚が遅い人ほど離婚率が低いと考えられていた&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;8&lt;/td&gt;
      &lt;td&gt;0.046431&lt;/td&gt;
      &lt;td&gt;ユタ大学で社会学を研究する&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;9&lt;/td&gt;
      &lt;td&gt;0.046153&lt;/td&gt;
      &lt;td&gt;Nick Wolfinger教授&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;10&lt;/td&gt;
      &lt;td&gt;0.046067&lt;/td&gt;
      &lt;td&gt;教授は、アメリカにおける初婚年齢と離婚率についてのデータを分析していた際、奇妙なグラフに気づいたそうです。よくみると、10代などの若い頃に結婚した人の離婚率は高いものの、その後減少していき、30代中盤頃から再度上昇。それ以降は、初婚年齢が40代中盤に向かうにつれ、どんどん上がっているのです。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;11&lt;/td&gt;
      &lt;td&gt;0.043331&lt;/td&gt;
      &lt;td&gt;大学研究&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;12&lt;/td&gt;
      &lt;td&gt;0.04173&lt;/td&gt;
      &lt;td&gt;」との研究結果を発表しました。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;13&lt;/td&gt;
      &lt;td&gt;0.040952&lt;/td&gt;
      &lt;td&gt;とのことですよ。教授、優しいな…。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;14&lt;/td&gt;
      &lt;td&gt;0.034328&lt;/td&gt;
      &lt;td&gt;Wolfinger教授は、それ以外にも20代後半から30代前半が結婚に適している理由があるといいます。いわく、それ以降になると、ひとりで暮らすにも十分な&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;15&lt;/td&gt;
      &lt;td&gt;0.031018&lt;/td&gt;
      &lt;td&gt;結婚は勢い、って本当なのかもしれませんね…。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;16&lt;/td&gt;
      &lt;td&gt;0.028509&lt;/td&gt;
      &lt;td&gt;ため、新たな発見となったとのこと。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;17&lt;/td&gt;
      &lt;td&gt;0.020686&lt;/td&gt;
      &lt;td&gt;なお、大分過ぎた模様。&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;18&lt;/td&gt;
      &lt;td&gt;0.020686&lt;/td&gt;
      &lt;td&gt;は、統計学的には「&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;19&lt;/td&gt;
      &lt;td&gt;0.020409&lt;/td&gt;
      &lt;td&gt;サイエンス&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;20&lt;/td&gt;
      &lt;td&gt;0.009511&lt;/td&gt;
      &lt;td&gt;このメールマガジンでは、テクノロジーやサイエンス、それに紐づくカルチャーの情報を発信するWebサイト、ギズモード・ジャパンからのさまざまな情報をお届けしていきます。&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;center&gt;
$$
  \begin{array}{ccc}
  &amp;amp;\\LNW&amp;amp;&amp;amp;&amp;amp;TF&amp;amp;\\\hline\hline
1&amp;amp;本体&amp;amp;0.00357727325233                    &amp;amp;投稿&amp;amp;0.0226666666667	 \\
2&amp;amp;os x&amp;amp;0.00357727325233					   &amp;amp;件&amp;amp;0.0217777777778		 \\
3&amp;amp;キーボードマウスモニタ&amp;amp;0.00351833385311  &amp;amp;imac&amp;amp;0.0213333333333	 \\
4&amp;amp;server&amp;amp;0.00349771570308				   &amp;amp;点&amp;amp;0.0204444444444		 \\
5&amp;amp;中古品&amp;amp;0.00346942400604				   &amp;amp;ssd&amp;amp;0.0133333333333		 \\
6&amp;amp;config&amp;amp;0.00332368147584				   &amp;amp;満足度&amp;amp;0.0115555555556	 \\
7&amp;amp;新着&amp;amp;0.00331818190656					   &amp;amp;k&amp;amp;0.0111111111111		 \\
8&amp;amp;mg&amp;amp;0.00329978507541					   &amp;amp;hdd&amp;amp;0.0102222222222		 \\
9&amp;amp;eq2&amp;amp;0.00327657575963					   &amp;amp;4k&amp;amp;0.00844444444444		 \\
10&amp;amp;step&amp;amp;0.0032732266988					   &amp;amp;動画&amp;amp;0.008				 \\
11&amp;amp;コストパフォーマンス&amp;amp;0.00325942990303   &amp;amp;m&amp;amp;0.008					 \\
12&amp;amp;mc&amp;amp;0.0032043406235					   &amp;amp;dupont&amp;amp;0.008			 \\
13&amp;amp;mgem&amp;amp;0.0032043406235					   &amp;amp;y&amp;amp;0.008					 \\
14&amp;amp;mac pro&amp;amp;0.00319763504244				   &amp;amp;購入&amp;amp;0.00755555555556	 \\
15&amp;amp;md&amp;amp;0.00318798286291					   &amp;amp;jesse&amp;amp;0.00666666666667	 \\
16&amp;amp;検索&amp;amp;0.00315393001144				   &amp;amp;価格&amp;amp;0.00622222222222	 \\
17&amp;amp;お知らせ&amp;amp;0.00315393001144			   &amp;amp;retina&amp;amp;0.00622222222222	 \\
18&amp;amp;利用規約&amp;amp;0.00315393001144			   &amp;amp;製品&amp;amp;0.00533333333333	 \\
19&amp;amp;a8&amp;amp;0.00308604905707					   &amp;amp;spec&amp;amp;0.00488888888889	 \\
20&amp;amp;搭載&amp;amp;0.00307764323933				   &amp;amp;編集&amp;amp;0.00488888888889    \\
\end{array}
$$

&lt;/center&gt;
&lt;center&gt;図2: ニュース記事への適用結果 (青=真の重要語)&lt;/center&gt;
&lt;!--
このアルゴリズムにおける教師データは高い重みがついて欲しいノード集合なので，単語への重み付けの場合**高い重みがついて欲しい単語集合**になります．
これを$$V^{*}$$とします．

ウェブページはヘッダーフッター，メニュー，広告など多くのノイズを含んでいます．
最近では，広告配信業者がページの内容に応じて関連の高い広告を埋め込んでいたりするので，ウェブページの解析がより難しくなっているように思います．
しかしながら，**どんなにノイズが多くても，タイトル（とディスクリプション）は信頼できる**と考えられます．
というわけで，今回はタイトル（とディスクリプション）に含まれる単語集合を$$V^{*}$$とします．
もちろんウェブページだけでなく，一般の文書にはタイトルがあると思うので，大体適用できると思います．

LNWを実行するには，$$V^{*}$$の他に，隣接行列$$\mathbf{A}$$が必要です．
今回は，これを共起行列とします．**重要な単語と共起する単語は重要**といった具合です．
これは，PageRankをテキストに応用したTextRankなんかと同じですね．
まとめると，

- $$V^{*}$$: タイトル（とディスクリプション）に出現する単語集合
- $$\mathbf{A}$$: 共起行列

とします．

# 実験
定性評価してみます．
対象は，

1. メインコンテンツがテキストのページ (&lt;a href=&quot;http://gigazine.net/news/20160706-santa-susana-nuclear-disaster/&quot; target=&quot;_blank&quot;&gt;http://gigazine.net/news/20160706-santa-susana-nuclear-disaster/&lt;/a&gt;)
2. そうでないページ (

1は例えばニュース記事などです．
2は例えば商品紹介ページだったり，画像や動画メインのページです．


|順位| 単語 |スコア|
|:---|:-----------------:|:-----------|
1 | アメリカ政府 |0.0108775415988|
2 | 徹底的 |0.0103866765743|
3 | 回避 |0.0102489698956|
4 | 放射性物質 |0.00826735437213|
5 | 表 |0.00688558477851|
6 | カリフォルニア州 |0.00687599731351|
7 | 完成 |0.00666602490429|
8 | 地球外生命 |0.00666602490429|
9 | 完全 |0.00662327332437|
10| 探査 |0.00654949037057|
11| fast |0.00654949037057|
12| 電波望遠鏡 |0.00654949037057|
13| 世界 |0.00654949037057|
14| 1979年 |0.00639230509713|
15| 危険 |0.00608159886266|
16| 例 |0.00597026076084|
17| 運用 |0.00586509783247|
18| カリフォルニア大学 |0.00578271053574|
19| 時点| 0.00554026259777|
20| アクシデント| 0.00532353224794|

図1: Gigazineへの適用結果&lt;br/&gt;



# おわりに
今回は，グラフノードへの重み付けアルゴリズムをウェブページに応用してみました．
ウェブページの解析といったら，メインコンテンツ抽出がよく研究されています．
画像や動画メインのページだと，メインとなるDOM要素を特定して，その中にある画像や動画を抽出する必要があります．
今回の応用例は，DOM要素の単語に重みをつけて，その合計値などでスコアをつければメインコンテンツ抽出にも使えると思います．
ちなみに，今回のアルゴリズムはDOM構造に依存していないので，同一ドメイン内で，評価やパラメータチューニングが簡単に行えることも強みだと思います．
--&gt;
</description>
        <pubDate>Sat, 09 Jul 2016 20:21:53 +0900</pubDate>
        <link>http://nktmemoja.github.io/jekyll/update/2016/07/09/main-text-extraction.html</link>
        <guid isPermaLink="true">http://nktmemoja.github.io/jekyll/update/2016/07/09/main-text-extraction.html</guid>
        
        
        <category>jekyll</category>
        
        <category>update</category>
        
      </item>
    
      <item>
        <title>半教師付きページランクを用いたウェブページ中の単語への重み付け</title>
        <description>&lt;h2 id=&quot;section&quot;&gt;はじめに&lt;/h2&gt;
&lt;p&gt;前回&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://nktmemoja.github.io/jekyll/update/2016/07/06/laplaciannodeweighting.html&quot; target=&quot;_blank&quot;&gt;ラプラス正則化を用いた半教師付きページランク&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;というのを紹介してみました．
今回はこれをウェブページ中の単語への重み付けに応用してみます．
このアルゴリズムは半教師付きですが，教師データが自動的に得られる場合があります．
その一例が，ウェブページです．
ウェブページは&lt;meta /&gt;内にタイトルやディスクリプション，キーワードなどの重要な情報を持っています．
これにより，教師データがほぼ自動的に得られます．
ウェブページでなくとも，論文だと，タイトル・アブストラクトなどが得られますし，大体のテキストに適用できるのではないかと思います．&lt;/p&gt;

&lt;p&gt;単語への重み付けを，以下のように，半教師付きページランクの二段階適用によって行います．&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;テキストへの重み付け&lt;/li&gt;
  &lt;li&gt;単語への重み付け&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;なお，ここでいうテキストとは，DOMツリーの中のテキストノードが持つテキストを指します．&lt;/p&gt;

&lt;h3 id=&quot;section-1&quot;&gt;テキストへの重み付け&lt;/h3&gt;

&lt;p&gt;ウェブページ&lt;script type=&quot;math/tex&quot;&gt;d&lt;/script&gt;を順序対を用いて&lt;script type=&quot;math/tex&quot;&gt;d = (w_1, \ldots, w_n)&lt;/script&gt;と表します（これはDOMツリーを深さ優先探索し，テキストノードだけ拾えば得られます）．
ただし，&lt;script type=&quot;math/tex&quot;&gt;w_i&lt;/script&gt;はテキストで，これも順序対を用いて
&lt;script type=&quot;math/tex&quot;&gt;w_i = (w_{i1},\ldots,w_{in_{i}})&lt;/script&gt;
と表します．ここで，&lt;script type=&quot;math/tex&quot;&gt;V&lt;/script&gt;を&lt;script type=&quot;math/tex&quot;&gt;d&lt;/script&gt;に出現する単語集合とし，&lt;script type=&quot;math/tex&quot;&gt;w_{ij} \in V&lt;/script&gt;とします．
本節では，&lt;script type=&quot;math/tex&quot;&gt;\{w_i\}_{i=1}^n&lt;/script&gt;への重み&lt;script type=&quot;math/tex&quot;&gt;\{f_{i}\}_{i=1}^n&lt;/script&gt;を獲得することを目的とします．
ただし，&lt;script type=&quot;math/tex&quot;&gt;f_i&lt;/script&gt;は&lt;script type=&quot;math/tex&quot;&gt;w_i&lt;/script&gt;への重みです．&lt;/p&gt;

&lt;p&gt;半教師付きページランクは，隣接行列&lt;script type=&quot;math/tex&quot;&gt;\mathbf{A}&lt;/script&gt; と，初期値&lt;script type=&quot;math/tex&quot;&gt;\mathbf{u}&lt;/script&gt;を必要としますので，これを定義するだけで済みます．
まず，&lt;script type=&quot;math/tex&quot;&gt;\mathbf{A}&lt;/script&gt;を，以下で定義されるテキスト間の類似度行列とします．&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;A_{ij} = sim(w_i, w_j)&lt;/script&gt;

&lt;p&gt;テキスト間類似度関数&lt;script type=&quot;math/tex&quot;&gt;sim&lt;/script&gt;はコサインでもジャッカードでもなんでもいいです．
次に，&lt;script type=&quot;math/tex&quot;&gt;\mathbf{u}&lt;/script&gt;を，以下のように定義します．&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;u_i =
sim(w_i, w_{title}) + sim(w_i, w_{desc})&lt;/script&gt;

&lt;p&gt;ただし，&lt;script type=&quot;math/tex&quot;&gt;w_{title}&lt;/script&gt;は&lt;script type=&quot;math/tex&quot;&gt;d&lt;/script&gt;のタイトル，&lt;script type=&quot;math/tex&quot;&gt;w_{desc}&lt;/script&gt;はディスクリプションとします．
あるいはもう少し厳格に，以下のようにタイトルとディスクリプションだけ使うことも考えられます．&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;% &lt;![CDATA[
u_i =
\left\{\begin{array}{ll}
1 &amp; if \ w_i = w_{title} \ or \ w_i = w_{desc} \\
0 &amp; otherwise
\end{array}\right. %]]&gt;&lt;/script&gt;

&lt;p&gt;これで半教師付きページランクを適用するのに必要なものが揃いました．
あとは実行して，&lt;script type=&quot;math/tex&quot;&gt;\mathbf{f} = [f_1 \cdots f_n]&lt;/script&gt;を得ます．&lt;/p&gt;

&lt;p&gt;ここでやっていることは，まず，&lt;script type=&quot;math/tex&quot;&gt;\mathbf{u}&lt;/script&gt;でもって，タイトルとディスクリプションは大事だということを表現しています．
さらに，隣接行列をテキスト間の類似度行列とすることで，半教師付きページランクがタイトルとディスクリプションに似ているテキストは重要だと判断します．&lt;/p&gt;

&lt;h3 id=&quot;section-2&quot;&gt;単語への重み付け&lt;/h3&gt;
&lt;p&gt;上でテキストの重要度を計算した後，単語への重み付けを実行します．
本節の目的はウェブページ&lt;script type=&quot;math/tex&quot;&gt;d&lt;/script&gt;中に出現する単語集合&lt;script type=&quot;math/tex&quot;&gt;V=\{v_i\}_{i=1}^N&lt;/script&gt;への重み&lt;script type=&quot;math/tex&quot;&gt;\{g_i\}_{i=1}^N&lt;/script&gt;を獲得することです．&lt;/p&gt;

&lt;p&gt;ここでも半教師付きページランクを用います．
上と同じように隣接行列&lt;script type=&quot;math/tex&quot;&gt;\mathbf{A}&#39;&lt;/script&gt;を，&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;A&#39;_{ij} = sim&#39;(v_i, v_j),&lt;/script&gt;

&lt;p&gt;と定義します．
&lt;script type=&quot;math/tex&quot;&gt;\mathbf{u}&#39;&lt;/script&gt;は，以下のように定義します．&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;% &lt;![CDATA[
u&#39;_i =
\left\{\begin{array}{ll}
1 &amp; if \ v_i \in V_{title} \ or \ v_i \in V_{desc} \\
0 &amp; otherwise
\end{array}\right. %]]&gt;&lt;/script&gt;

&lt;p&gt;ただし，&lt;script type=&quot;math/tex&quot;&gt;V_{title}&lt;/script&gt;はタイトル中に出現する単語集合，&lt;script type=&quot;math/tex&quot;&gt;V_{desc}&lt;/script&gt;はディスクリプション中に出現する単語集合です．&lt;/p&gt;

&lt;p&gt;単語間類似度関数&lt;script type=&quot;math/tex&quot;&gt;sim&#39;&lt;/script&gt;の定義についてですが，
今回は，単語の分布仮設の意味での類似度とします．
分布仮設は簡単にいうと，「共起する単語が似ている単語は意味的に似ている」と言うものです．
これは，例えば文脈ベクトルのコサイン類似度で定義されます．
これを行うために，&lt;script type=&quot;math/tex&quot;&gt;C_{ij}&lt;/script&gt;を，&lt;script type=&quot;math/tex&quot;&gt;v_i&lt;/script&gt;と&lt;script type=&quot;math/tex&quot;&gt;v_j&lt;/script&gt;が共起範囲&lt;script type=&quot;math/tex&quot;&gt;k&lt;/script&gt;で共起した回数として，共起行列&lt;script type=&quot;math/tex&quot;&gt;\mathbf{C} = [\mathbf{c}_1 \cdots \mathbf{c}_N]&lt;/script&gt;を作ります．
&lt;script type=&quot;math/tex&quot;&gt;v_i&lt;/script&gt;の文脈ベクトルは&lt;script type=&quot;math/tex&quot;&gt;\mathbf{c}_i&lt;/script&gt;に対応します．
ここで，&lt;script type=&quot;math/tex&quot;&gt;sim&#39;&lt;/script&gt;を以下のように定義します．&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;sim&#39;(v_i, v_j) = \frac{\langle \mathbf{c}_i, \mathbf{c}_j \rangle}{\|\mathbf{c}_i\|\|\mathbf{c}_j\|}&lt;/script&gt;

&lt;p&gt;以上の定義で半教師付きページランクを適用することにより，単語への重み&lt;script type=&quot;math/tex&quot;&gt;\mathbf{g} = [g_1 \cdots g_N]&lt;/script&gt;が得られます．&lt;/p&gt;

&lt;h2 id=&quot;section-3&quot;&gt;実験&lt;/h2&gt;
&lt;p&gt;実験してみました．
今回は結果をtf (term frequency)と比較します．
本当はtfidfと比較したいのですが，idfがコーパス依存なので，tfだけと比較します．&lt;/p&gt;

&lt;p&gt;データとしては，比較的ノイズが多いページを選びました．
ノイズというのは，ヘッダーフッター，メニュー，広告などを指します．
最近のウェブページはこのような多くのノイズを含んでいます．
最近では，広告配信業者がページの内容に応じて関連の高い広告を埋め込んでいたりするので，ウェブページの解析がより難しくなっているように思います…．&lt;/p&gt;

&lt;p&gt;話がそれましたが，以下の二つのURLをデータとします．&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.lifehacker.jp/2016/07/160702_grilledapple.html&quot; target=&quot;_blank&quot;&gt;屋外料理のデザートに、スモーキーで甘い「りんごのグリル」はいかが？&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://tabelog.com/shizuoka/A2201/A220102/22000892/dtlrvwlst/37192867/?lid=unpickup_review&quot; target=&quot;_blank&quot;&gt;『生しらす！』by 0141 : 和食処 するが蕎 - 蒲原/そば [食べログ]&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://curazy.com/archives/142844&quot; target=&quot;_blank&quot;&gt;癒されたい人集合！一生離れないと誓った「にこいちアニマル」に悶える12選 | CuRAZY [クレイジー]&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;1, 2, 3に対する結果をそれぞれ表1, 2, 3に示します．
なお，タイトルに出現する単語は表示していません．
TFより明らかに良い結果となっていると思います．
ただ，ページ3のように画像メインのページだと情報が少なくてほとんどの要素が0になってしまいます．
これは，外部情報，例えばword2vecなどを用いて&lt;script type=&quot;math/tex&quot;&gt;sim&#39;&lt;/script&gt;を定義してやるといいかもしれません．&lt;/p&gt;

&lt;p&gt;今回は可能性をみたかっただけなので，定性評価してしませんが，定量評価も比較的容易にできると思います．
というのも，この手法はよくあるDOM構造を利用したメインコンテンツ抽出とは違って，DOM構造に非依存なので，
同じドメインのページを大量に集めてテストしても大丈夫だと思います．
そういう意味ではパラメータもチューニングも自動化できるかもしれません．&lt;/p&gt;

&lt;p&gt;次回は，word2vecなどを使って，性能改善を図りたいと思います．&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;表1&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;提案法&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt; &lt;/th&gt;
      &lt;th&gt;TF&lt;/th&gt;
      &lt;th&gt; &lt;/th&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;順位&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;単語&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;スコア&lt;/th&gt;
      &lt;th&gt;単語&lt;/th&gt;
      &lt;th&gt;スコア&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;1&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;サイド&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.028785&lt;/td&gt;
      &lt;td&gt;title&lt;/td&gt;
      &lt;td&gt;0.01176&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;2&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;紹介&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.027523&lt;/td&gt;
      &lt;td&gt;トラブル&lt;/td&gt;
      &lt;td&gt;0.00941&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;3&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;food&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.021117&lt;/td&gt;
      &lt;td&gt;エアコン&lt;/td&gt;
      &lt;td&gt;0.00941&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;4&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;bbq&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.020636&lt;/td&gt;
      &lt;td&gt;男女&lt;/td&gt;
      &lt;td&gt;0.00941&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;5&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;肉&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.019335&lt;/td&gt;
      &lt;td&gt;温度&lt;/td&gt;
      &lt;td&gt;0.00941&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;6&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ディッシュ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.018379&lt;/td&gt;
      &lt;td&gt;設定&lt;/td&gt;
      &lt;td&gt;0.00941&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;7&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;メニュー&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.018254&lt;/td&gt;
      &lt;td&gt;staff&lt;/td&gt;
      &lt;td&gt;0.00706&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;8&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;考え&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.018254&lt;/td&gt;
      &lt;td&gt;by&lt;/td&gt;
      &lt;td&gt;0.00706&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;9&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;即座&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.017824&lt;/td&gt;
      &lt;td&gt;about&lt;/td&gt;
      &lt;td&gt;0.00706&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;10&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;フルーツ&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.013205&lt;/td&gt;
      &lt;td&gt;advertising&lt;/td&gt;
      &lt;td&gt;0.00706&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;11&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;メリット&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.010944&lt;/td&gt;
      &lt;td&gt;lifehacker&lt;/td&gt;
      &lt;td&gt;0.00706&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;12&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;概念&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.010802&lt;/td&gt;
      &lt;td&gt;privacy&lt;/td&gt;
      &lt;td&gt;0.00706&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;13&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;アイデア&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.010072&lt;/td&gt;
      &lt;td&gt;inc&lt;/td&gt;
      &lt;td&gt;0.00706&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;14&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;グラニースミス&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.006758&lt;/td&gt;
      &lt;td&gt;生活&lt;/td&gt;
      &lt;td&gt;0.00706&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;15&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;酸味&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.006684&lt;/td&gt;
      &lt;td&gt;mediagene&lt;/td&gt;
      &lt;td&gt;0.00706&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;16&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;最適&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.006622&lt;/td&gt;
      &lt;td&gt;サイド&lt;/td&gt;
      &lt;td&gt;0.00706&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;17&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;リンク&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.006463&lt;/td&gt;
      &lt;td&gt;方法&lt;/td&gt;
      &lt;td&gt;0.00706&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;18&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;参照&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.006408&lt;/td&gt;
      &lt;td&gt;hot&lt;/td&gt;
      &lt;td&gt;0.00471&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;19&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ベーコン&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.006405&lt;/td&gt;
      &lt;td&gt;円満&lt;/td&gt;
      &lt;td&gt;0.00471&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;20&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;フレーバー&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.00639&lt;/td&gt;
      &lt;td&gt;旅行&lt;/td&gt;
      &lt;td&gt;0.00471&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;表2&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;提案法&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt; &lt;/th&gt;
      &lt;th&gt;TF&lt;/th&gt;
      &lt;th&gt; &lt;/th&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;順位&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;単語&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;スコア&lt;/th&gt;
      &lt;th&gt;単語&lt;/th&gt;
      &lt;th&gt;スコア&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;1&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;店舗&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.000829&lt;/td&gt;
      &lt;td&gt;口コミ&lt;/td&gt;
      &lt;td&gt;0.0344234079174&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;2&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;清水&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.000766&lt;/td&gt;
      &lt;td&gt;名&lt;/td&gt;
      &lt;td&gt;0.0249569707401&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;3&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;蕎麦&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.00076&lt;/td&gt;
      &lt;td&gt;店&lt;/td&gt;
      &lt;td&gt;0.0240963855422&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;4&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;天ぷら&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.000521&lt;/td&gt;
      &lt;td&gt;件&lt;/td&gt;
      &lt;td&gt;0.0163511187608&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;5&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;うどん&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.000492&lt;/td&gt;
      &lt;td&gt;点数&lt;/td&gt;
      &lt;td&gt;0.013769363167&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;6&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;情報&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.000431&lt;/td&gt;
      &lt;td&gt;位&lt;/td&gt;
      &lt;td&gt;0.012908777969&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;7&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;茶漬け&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.000357&lt;/td&gt;
      &lt;td&gt;店舗&lt;/td&gt;
      &lt;td&gt;0.0111876075731&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;8&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;揚げ物&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.000197&lt;/td&gt;
      &lt;td&gt;情報&lt;/td&gt;
      &lt;td&gt;0.0103270223752&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;9&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;定食&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.000157&lt;/td&gt;
      &lt;td&gt;ランキング&lt;/td&gt;
      &lt;td&gt;0.0103270223752&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;10&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;食堂&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.000157&lt;/td&gt;
      &lt;td&gt;蕎麦&lt;/td&gt;
      &lt;td&gt;0.00946643717728&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;11&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;郷土料理&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.000155&lt;/td&gt;
      &lt;td&gt;定食&lt;/td&gt;
      &lt;td&gt;0.00860585197935&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;12&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;料理&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.000122&lt;/td&gt;
      &lt;td&gt;清水&lt;/td&gt;
      &lt;td&gt;0.00860585197935&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;13&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;魚介&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.000122&lt;/td&gt;
      &lt;td&gt;クーポン&lt;/td&gt;
      &lt;td&gt;0.00860585197935&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;14&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;丼&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;0.00011&lt;/td&gt;
      &lt;td&gt;訪問&lt;/td&gt;
      &lt;td&gt;0.00774526678141&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;15&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;重&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;8.1e-05&lt;/td&gt;
      &lt;td&gt;食堂&lt;/td&gt;
      &lt;td&gt;0.00774526678141&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;16&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;海鮮料理&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;5.5e-05&lt;/td&gt;
      &lt;td&gt;天ぷら&lt;/td&gt;
      &lt;td&gt;0.00774526678141&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;17&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;桜えび&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;4.4e-05&lt;/td&gt;
      &lt;td&gt;桜えび&lt;/td&gt;
      &lt;td&gt;0.00774526678141&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;18&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;詳細&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;4.3e-05&lt;/td&gt;
      &lt;td&gt;料理&lt;/td&gt;
      &lt;td&gt;0.00774526678141&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;19&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;青柳&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;4.3e-05&lt;/td&gt;
      &lt;td&gt;特集&lt;/td&gt;
      &lt;td&gt;0.00774526678141&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;20&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;穴子&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;4.2e-05&lt;/td&gt;
      &lt;td&gt;無料&lt;/td&gt;
      &lt;td&gt;0.00688468158348&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;table&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;表3&lt;/td&gt;
      &lt;td&gt;提案法&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
      &lt;td&gt;TF&lt;/td&gt;
      &lt;td&gt; &lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;順位&lt;/td&gt;
      &lt;td&gt;単語&lt;/td&gt;
      &lt;td&gt;スコア&lt;/td&gt;
      &lt;td&gt;単語&lt;/td&gt;
      &lt;td&gt;スコア&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;1&lt;/td&gt;
      &lt;td&gt;animal&lt;/td&gt;
      &lt;td&gt;0.023053&lt;/td&gt;
      &lt;td&gt;com&lt;/td&gt;
      &lt;td&gt;0.03412&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;2&lt;/td&gt;
      &lt;td&gt;tumblr.&lt;/td&gt;
      &lt;td&gt;0.015184&lt;/td&gt;
      &lt;td&gt;post&lt;/td&gt;
      &lt;td&gt;0.0315&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;3&lt;/td&gt;
      &lt;td&gt;catasters&lt;/td&gt;
      &lt;td&gt;0.014318&lt;/td&gt;
      &lt;td&gt;imgur&lt;/td&gt;
      &lt;td&gt;0.02887&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;4&lt;/td&gt;
      &lt;td&gt;thank&lt;/td&gt;
      &lt;td&gt;0.014265&lt;/td&gt;
      &lt;td&gt;view&lt;/td&gt;
      &lt;td&gt;0.02887&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;5&lt;/td&gt;
      &lt;td&gt;you&lt;/td&gt;
      &lt;td&gt;0.012764&lt;/td&gt;
      &lt;td&gt;on&lt;/td&gt;
      &lt;td&gt;0.02887&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;6&lt;/td&gt;
      &lt;td&gt;自然&lt;/td&gt;
      &lt;td&gt;0.005529&lt;/td&gt;
      &lt;td&gt;24時&lt;/td&gt;
      &lt;td&gt;0.01837&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;7&lt;/td&gt;
      &lt;td&gt;笑顔&lt;/td&gt;
      &lt;td&gt;0.005529&lt;/td&gt;
      &lt;td&gt;インターネット&lt;/td&gt;
      &lt;td&gt;0.01837&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;8&lt;/td&gt;
      &lt;td&gt;for&lt;/td&gt;
      &lt;td&gt;0.005331&lt;/td&gt;
      &lt;td&gt;ネコ&lt;/td&gt;
      &lt;td&gt;0.01837&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;9&lt;/td&gt;
      &lt;td&gt;reminding&lt;/td&gt;
      &lt;td&gt;0.004836&lt;/td&gt;
      &lt;td&gt;大好き!&lt;/td&gt;
      &lt;td&gt;0.01575&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;10&lt;/td&gt;
      &lt;td&gt;me&lt;/td&gt;
      &lt;td&gt;0.004675&lt;/td&gt;
      &lt;td&gt;twitter&lt;/td&gt;
      &lt;td&gt;0.01575&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;11&lt;/td&gt;
      &lt;td&gt;to&lt;/td&gt;
      &lt;td&gt;0.004503&lt;/td&gt;
      &lt;td&gt;記事&lt;/td&gt;
      &lt;td&gt;0.01575&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;12&lt;/td&gt;
      &lt;td&gt;wish&lt;/td&gt;
      &lt;td&gt;0.00446&lt;/td&gt;
      &lt;td&gt;crazy&lt;/td&gt;
      &lt;td&gt;0.01312&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;13&lt;/td&gt;
      &lt;td&gt;a-ha&lt;/td&gt;
      &lt;td&gt;0.004407&lt;/td&gt;
      &lt;td&gt;匹&lt;/td&gt;
      &lt;td&gt;0.0105&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;14&lt;/td&gt;
      &lt;td&gt;ppy&lt;/td&gt;
      &lt;td&gt;0.003951&lt;/td&gt;
      &lt;td&gt;つぶやき&lt;/td&gt;
      &lt;td&gt;0.0105&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;15&lt;/td&gt;
      &lt;td&gt;記事&lt;/td&gt;
      &lt;td&gt;0.0&lt;/td&gt;
      &lt;td&gt;一緒&lt;/td&gt;
      &lt;td&gt;0.0105&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;16&lt;/td&gt;
      &lt;td&gt;メニュー&lt;/td&gt;
      &lt;td&gt;0.0&lt;/td&gt;
      &lt;td&gt;動画&lt;/td&gt;
      &lt;td&gt;0.00787&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;17&lt;/td&gt;
      &lt;td&gt;シェア&lt;/td&gt;
      &lt;td&gt;0.0&lt;/td&gt;
      &lt;td&gt;シェア&lt;/td&gt;
      &lt;td&gt;0.00787&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;18&lt;/td&gt;
      &lt;td&gt;ネコ&lt;/td&gt;
      &lt;td&gt;0.0&lt;/td&gt;
      &lt;td&gt;http://&lt;/td&gt;
      &lt;td&gt;0.00787&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;19&lt;/td&gt;
      &lt;td&gt;アプリ&lt;/td&gt;
      &lt;td&gt;0.0&lt;/td&gt;
      &lt;td&gt;犬&lt;/td&gt;
      &lt;td&gt;0.00787&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;20&lt;/td&gt;
      &lt;td&gt;動物&lt;/td&gt;
      &lt;td&gt;0.0&lt;/td&gt;
      &lt;td&gt;フォロー&lt;/td&gt;
      &lt;td&gt;0.00787&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;!--
このアルゴリズムにおける教師データは高い重みがついて欲しいノード集合なので，単語への重み付けの場合**高い重みがついて欲しい単語集合**になります．
これを$V^{*}$とします．

ウェブページはヘッダーフッター，メニュー，広告など多くのノイズを含んでいます．
最近では，広告配信業者がページの内容に応じて関連の高い広告を埋め込んでいたりするので，ウェブページの解析がより難しくなっているように思います．
しかしながら，**どんなにノイズが多くても，タイトル（とディスクリプション）は信頼できる**と考えられます．
というわけで，今回はタイトル（とディスクリプション）に含まれる単語集合を$V^{*}$$とします．
もちろんウェブページだけでなく，一般の文書にはタイトルがあると思うので，大体適用できると思います．

LNWを実行するには，$$V^{*}$$の他に，隣接行列$$\mathbf{A}$$が必要です．
今回は，これを共起行列とします．**重要な単語と共起する単語は重要**といった具合です．
これは，PageRankをテキストに応用したTextRankなんかと同じですね．
まとめると，

- $$V^{*}$$: タイトル（とディスクリプション）に出現する単語集合
- $$\mathbf{A}$$: 共起行列

とします．

# 実験
定性評価してみます．
対象は，

1. メインコンテンツがテキストのページ (&lt;a href=&quot;http://gigazine.net/news/20160706-santa-susana-nuclear-disaster/&quot; target=&quot;_blank&quot;&gt;http://gigazine.net/news/20160706-santa-susana-nuclear-disaster/&lt;/a&gt;)
2. そうでないページ (

1は例えばニュース記事などです．
2は例えば商品紹介ページだったり，画像や動画メインのページです．


|順位| 単語 |スコア|
|:---|:-----------------:|:-----------|
1 | アメリカ政府 |0.0108775415988|
2 | 徹底的 |0.0103866765743|
3 | 回避 |0.0102489698956|
4 | 放射性物質 |0.00826735437213|
5 | 表 |0.00688558477851|
6 | カリフォルニア州 |0.00687599731351|
7 | 完成 |0.00666602490429|
8 | 地球外生命 |0.00666602490429|
9 | 完全 |0.00662327332437|
10| 探査 |0.00654949037057|
11| fast |0.00654949037057|
12| 電波望遠鏡 |0.00654949037057|
13| 世界 |0.00654949037057|
14| 1979年 |0.00639230509713|
15| 危険 |0.00608159886266|
16| 例 |0.00597026076084|
17| 運用 |0.00586509783247|
18| カリフォルニア大学 |0.00578271053574|
19| 時点| 0.00554026259777|
20| アクシデント| 0.00532353224794|

図1: Gigazineへの適用結果&lt;br/&gt;



# おわりに
今回は，グラフノードへの重み付けアルゴリズムをウェブページに応用してみました．
ウェブページの解析といったら，メインコンテンツ抽出がよく研究されています．
画像や動画メインのページだと，メインとなるDOM要素を特定して，その中にある画像や動画を抽出する必要があります．
今回の応用例は，DOM要素の単語に重みをつけて，その合計値などでスコアをつければメインコンテンツ抽出にも使えると思います．
ちなみに，今回のアルゴリズムはDOM構造に依存していないので，同一ドメイン内で，評価やパラメータチューニングが簡単に行えることも強みだと思います．
--&gt;
</description>
        <pubDate>Thu, 07 Jul 2016 23:39:59 +0900</pubDate>
        <link>http://nktmemoja.github.io/jekyll/update/2016/07/07/sspagerank-webpageanalysis.html</link>
        <guid isPermaLink="true">http://nktmemoja.github.io/jekyll/update/2016/07/07/sspagerank-webpageanalysis.html</guid>
        
        
        <category>jekyll</category>
        
        <category>update</category>
        
      </item>
    
      <item>
        <title>ラプラス正則化を用いた半教師付きページランク</title>
        <description>&lt;p&gt;半教師付きの設定で，ページランクみたいにグラフのノードに重み付けをつけるアルゴリズム，半教師付きページランク (Semi-Supervised PageRank)を考えてみました．&lt;/p&gt;

&lt;p&gt;ページランクは，グラフのノードに重みをつけるアルゴリズムです．
一つやりたいことがあって，最初ページランクを使っていたのですが，教師的な情報を組み込むのが難しかったので，自分で考えることにしました．
というのも，ページランクでは，すべてのグラフノードの重みを1に初期化します．
単純にここに教師的な情報を組み込む，例えば数個のノードの重みを高くするなど，をやってみたのですが，最終的に出てくる解にあまり反映されなかったのです．
なぜなのか，をいろいろ考えましたが，ページランクはノードの重みを繰り返し伝搬するので，初期値が大事というより，エッジが大事なんだと今は思っています（もう少しちゃんと考える必要あり）．&lt;/p&gt;

&lt;p&gt;定式化していきましょう．
グラフ&lt;script type=&quot;math/tex&quot;&gt;G=(V, E), V=\{1, \ldots, n\}, E \subseteq V \times V&lt;/script&gt;を考えます．
扱いやすいように，エッジは隣接行列 (Adjacency matrix) &lt;script type=&quot;math/tex&quot;&gt;\mathbf{A}&lt;/script&gt;で表現することにします．
&lt;script type=&quot;math/tex&quot;&gt;\mathbf{A}&lt;/script&gt;をいろいろ変えることで，いろんなグラフが表現できますが，ここでは一般の行列にしときます．
重み付けにおける教師データとは何か？という話になると思うのですが，ここでは，高い（低い）重みがついて欲しいノードの集合&lt;script type=&quot;math/tex&quot;&gt;V^{*} \subseteq V&lt;/script&gt;が与えられることにします．&lt;/p&gt;

&lt;p&gt;さて，各ノードにおける重みを&lt;script type=&quot;math/tex&quot;&gt;\mathbf{f} = [f_1 \cdots f_n]&lt;/script&gt;と表すことにして，これを求めることがゴールになります．
とりあえず，&lt;script type=&quot;math/tex&quot;&gt;V^{*}&lt;/script&gt;の要素に該当する重みを大きくしたいので，&lt;script type=&quot;math/tex&quot;&gt;\mathbf{u} = [u_1 \cdots u_n]&lt;/script&gt;を以下で定義します．&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;% &lt;![CDATA[
\begin{align*}
u_i = \left\{\begin{array}{cc}
1 &amp; if \ i \in V^{*} \\
0 &amp; otherwise
\end{array}\right.
\end{align*} %]]&gt;&lt;/script&gt;

&lt;p&gt;こうすると，&lt;script type=&quot;math/tex&quot;&gt;V^{*}&lt;/script&gt;のスコアの合計値を，&lt;script type=&quot;math/tex&quot;&gt;\mathbf{f}^T \mathbf{u}&lt;/script&gt;と表すことができます．
今，&lt;script type=&quot;math/tex&quot;&gt;\mathbf{f}^T \mathbf{u}&lt;/script&gt;を最大化すれば良さそうですが，今回はラプラス正則化 (Laplacian Regularization) と呼ばれるものを加えます．
これは，ノード間にエッジが存在する場合，それらのスコアを近づける，というアイデアです．
ノード&lt;script type=&quot;math/tex&quot;&gt;i&lt;/script&gt;と&lt;script type=&quot;math/tex&quot;&gt;j&lt;/script&gt;の間にエッジが存在する，すなわち&lt;script type=&quot;math/tex&quot;&gt;A_{ij}=1&lt;/script&gt;なら&lt;script type=&quot;math/tex&quot;&gt;(f_i - f_j)^2&lt;/script&gt;を最小化します．
これは，&lt;script type=&quot;math/tex&quot;&gt;A_{ij}(f_i - f_j)^2&lt;/script&gt;と書けますね．これをすべてのノードに対してやります．
以上を踏まえて，以下の問題を解きます．&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\begin{align*}
max_{\mathbf{f}} \ \mathbf{f}^T \mathbf{u} - \alpha \|\mathbf{f}\|^2 - \beta \sum_{i,j=1}^n A_{ij}(f_i - f_j)^2
\end{align*}&lt;/script&gt;

&lt;p&gt;ただし，第2項にl-2正則化項を加えています．
第3項がラプラス正則化項です．
これの解は以下のように解析的に得られます．&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\begin{align*}
\mathbf{f} = (\mathbf{L} + \gamma \mathbf{I}_n)^{-1} \mathbf{u}
\end{align*}&lt;/script&gt;

&lt;p&gt;ただし，&lt;script type=&quot;math/tex&quot;&gt;\mathbf{L} = \mathbf{D}-\mathbf{A}&lt;/script&gt;，&lt;script type=&quot;math/tex&quot;&gt;D_{ii} = \sum_{j=1}^n A_{ij}&lt;/script&gt;は対角行列，&lt;script type=&quot;math/tex&quot;&gt;\gamma=\frac{\alpha}{\beta}&lt;/script&gt;であり，これは通常の正則化パラメータと同じように事前に決めてやるものとします．
これで，望ましい結果というのを，&lt;script type=&quot;math/tex&quot;&gt;\mathbf{A}&lt;/script&gt;だけでなく，&lt;script type=&quot;math/tex&quot;&gt;\mathbf{u}&lt;/script&gt;でも表現できるようになりました．
次回は，これをウェブページ解析に応用したいと思います．&lt;/p&gt;
</description>
        <pubDate>Thu, 07 Jul 2016 00:48:19 +0900</pubDate>
        <link>http://nktmemoja.github.io/jekyll/update/2016/07/07/laplaciannodeweighting.html</link>
        <guid isPermaLink="true">http://nktmemoja.github.io/jekyll/update/2016/07/07/laplaciannodeweighting.html</guid>
        
        
        <category>jekyll</category>
        
        <category>update</category>
        
      </item>
    
      <item>
        <title>ラプラス正則化を使った，半教師付きグラフノード重み付け</title>
        <description>&lt;p&gt;半教師付きの設定で，グラフノードに重み付けをつけるアルゴリズム (Laplacian Node Weighting)を考えてみました（名前適当だし，日本語でどう表すかが非常に難しい）．
グラフのノードに重みをつける手法としては，PageRankが有名です．
一つやりたいことがあって，最初PageRankを使っていたのですが，教師的な情報を組み込むのが難しかったので，自分で考えることにしました．
というのも，PageRankでは，すべてのグラフノードの重みを1に初期化します．
単純にここに教師的な情報を組み込む，例えば数個のノードの重みを高くするなど，をやってみたのですが，最終的に出てくる解にあまり反映されなかったのです．
なぜなのか，をいろいろ考えましたが，PageRankはノードの重みを繰り返し伝搬するので，初期値が大事というより，エッジが大事なんだと今は思っています（もう少しちゃんと考える必要あり）．&lt;/p&gt;

&lt;p&gt;定式化していきましょう．
グラフ&lt;script type=&quot;math/tex&quot;&gt;G=(V, E), V=\{1, \ldots, n\}, E \subseteq V \times V&lt;/script&gt;を考えます．
扱いやすいように，エッジは隣接行列 (Adjacency matrix) &lt;script type=&quot;math/tex&quot;&gt;\mathbf{A}&lt;/script&gt;で表現することにします．
&lt;script type=&quot;math/tex&quot;&gt;\mathbf{A}&lt;/script&gt;をいろいろ変えることで，いろんなグラフが表現できますが，ここでは一般の行列にしときます．
重み付けにおける教師データとは何か？という話になると思うのですが，ここでは，高い（低い）重みがついて欲しいノードの集合&lt;script type=&quot;math/tex&quot;&gt;V^{*} \subseteq V&lt;/script&gt;が与えられることにします．&lt;/p&gt;

&lt;p&gt;さて，各ノードにおける重みを&lt;script type=&quot;math/tex&quot;&gt;\mathbf{f} = [f_1 \cdots f_n]&lt;/script&gt;と表すことにして，これを求めることがゴールになります．
とりあえず，&lt;script type=&quot;math/tex&quot;&gt;V^{*}&lt;/script&gt;の要素に該当する重みを大きくしたいので，&lt;script type=&quot;math/tex&quot;&gt;\mathbf{u} = [u_1 \cdots u_n]&lt;/script&gt;を以下で定義します．&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;% &lt;![CDATA[
\begin{align*}
u_i = \left\{\begin{array}{cc}
1 &amp; if \ i \in V^{*} \\
0 &amp; otherwise
\end{array}\right.
\end{align*} %]]&gt;&lt;/script&gt;

&lt;p&gt;こうすると，&lt;script type=&quot;math/tex&quot;&gt;V^{*}&lt;/script&gt;のスコアの合計値を，&lt;script type=&quot;math/tex&quot;&gt;\mathbf{f}^T \mathbf{u}&lt;/script&gt;と表すことができます．
今，&lt;script type=&quot;math/tex&quot;&gt;\mathbf{f}^T \mathbf{u}&lt;/script&gt;を最大化すれば良さそうですが，今回はラプラス正則化 (Laplacian Regularization) と呼ばれるものを加えます．
これは，ノード間にエッジが存在する場合，それらのスコアを近づける，というアイデアです．
ノード&lt;script type=&quot;math/tex&quot;&gt;i&lt;/script&gt;と&lt;script type=&quot;math/tex&quot;&gt;j&lt;/script&gt;の間にエッジが存在する，すなわち&lt;script type=&quot;math/tex&quot;&gt;A_{ij}=1&lt;/script&gt;なら&lt;script type=&quot;math/tex&quot;&gt;(f_i - f_j)^2&lt;/script&gt;を最小化します．
これは，&lt;script type=&quot;math/tex&quot;&gt;A_{ij}(f_i - f_j)^2&lt;/script&gt;と書けますね．これをすべてのノードに対してやります．
以上を踏まえて，以下の問題を解きます．&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\begin{align*}
max_{\mathbf{f}} \ \mathbf{f}^T \mathbf{u} - \alpha \|\mathbf{f}\|^2 - \beta \sum_{i,j=1}^n A_{ij}(f_i - f_j)^2
\end{align*}&lt;/script&gt;

&lt;p&gt;ただし，第2項にl2正則を加えています．
第3項がラプラス正則化です．
これの解は以下のように解析的に得られます．&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\begin{align*}
\mathbf{f} = (\mathbf{L} + \gamma \mathbf{I}_n)^{-1} \mathbf{u}
\end{align*}&lt;/script&gt;

&lt;p&gt;ただし，&lt;script type=&quot;math/tex&quot;&gt;\gamma=\frac{\alpha}{\beta}&lt;/script&gt;であり，これは通常の正則化パラメータと同じように事前に決めてやるものとします．
これで，望ましい結果というのを，&lt;script type=&quot;math/tex&quot;&gt;\mathbf{A}&lt;/script&gt;だけでなく，&lt;script type=&quot;math/tex&quot;&gt;\mathbf{u}&lt;/script&gt;でも表現できるようになりました．
次回は，これをウェブページ解析に応用したいと思います．&lt;/p&gt;
</description>
        <pubDate>Thu, 07 Jul 2016 00:48:19 +0900</pubDate>
        <link>http://nktmemoja.github.io/jekyll/update/2016/07/07/laplaciannodeweighting.html</link>
        <guid isPermaLink="true">http://nktmemoja.github.io/jekyll/update/2016/07/07/laplaciannodeweighting.html</guid>
        
        
        <category>jekyll</category>
        
        <category>update</category>
        
      </item>
    
      <item>
        <title>PageRankをいろいろな問題に適用してみた</title>
        <description>&lt;h1 id=&quot;pagerank&quot;&gt;PageRank&lt;/h1&gt;
&lt;p&gt;PageRankをいろいろな問題に適用してみた。ページランクはグラフが持つノードの重要度を決める一つの手法。そこにあるアイデアは、&lt;/p&gt;

&lt;p&gt;iからjへのリンクをiがjに投票したとみなし、投票数の多いノードは重要度が高い、&lt;/p&gt;

&lt;p&gt;というもの。さらに、これを何回か繰り返すことにより、投票数の多いノードの投票は重要だとみなされる。PageRankは、グラフで表現されているものなら何にでも適用できる。その際に重要なのは、エッジの定義だ。以下、実際の問題に適用して、その有用性を確認してみる。&lt;/p&gt;

&lt;h1 id=&quot;section&quot;&gt;重要文抽出&lt;/h1&gt;
&lt;p&gt;まずは、重要文抽出に適用してみる。重要文抽出は、文書の中から重要な文を抽出するタスクで、抽出型の文書要約に使われたりする。というわけで早速エッジを定義する。どんなエッジを投票と見なすかを考える。ここでは、&lt;/p&gt;

&lt;p&gt;自分と似ている人に投票する、&lt;/p&gt;

&lt;p&gt;ことにする。これは、グラフの隣接行列を類似度行列に置き換えればよい。&lt;/p&gt;

&lt;p&gt;実験として、ウェブページに適用してみた。ウェブページから得られるテキストはノイズが多い (多分50-90%がノイズ)ので、ノイズに対するロバスト性を見るのにちょうどいい。それと、自分が今ウェブページの解析をやっているから、というのもある (ほんとはこれが理由…)。&lt;/p&gt;

&lt;p&gt;ノイズが比較的少ないページとして、
&lt;a href=&quot;http://gigazine.net/news/20160703-accueil-pancake/&quot; target=&quot;_blank&quot;&gt;Gigazine&lt;/a&gt;，
を、ノイズが多いページとして、
&lt;a href=&quot;http://navitokyo.com/0422-88-6480/&quot; target=&quot;_blank&quot;&gt;ナビ東京&lt;/a&gt;,
を解析する。
結果を図1, 2に示す．太字で書いているものは，僕が重要な文ではないと判断したものです．
ノイズが少なければ結果は割と良好ですが，ノイズが多いと全然ダメでした．
やはり，このままではウェブページには使えないみたいですね．&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;順位&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;スコア&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;文&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;1&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;0.00902747389036&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;桃甘強鼻抜け風味ありパンケーキ桃チーズ受け止めるもっち食感食べ応えありデザートある昼ごはん多め食べ苦しくなり&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;2&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;0.00803193072151&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;パンケーキ有名店カフェアクイーユ6月1日パンケーキ生地一新しもっちり軽い口当たり実現する商品&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;3&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;0.00787933502747&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ハチミツ垂らし食べチーズ塩分パンケーキ甘み引き立てるつのパンケーキ一線画し品サイズ食べ&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;4&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;0.00737716414378&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;アクイーユいろいろパンケーキあっ目移りしディナー時間帯人気パンケーキ種類ミニサイズワンプレート集めスペシャルサンク税別円メニューあり&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;5&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;0.00701471830488&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;濃厚チーズパンケーキボールなっパンケーキボール食べgigazine&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;6&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;0.00693654280273&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;vrヘッドセットoculus riftハードウェアソフトウェアセットアップ手順まとめ&lt;/strong&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;7&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;0.00634492606882&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;マロンクリーム・バニラアイス・ホイップクリーム使っ和栗パンケーキ栗風味もっ濃厚好き注文し品&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;8&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;0.00611990342212&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;桃レアチーズ風味豊かカフェアクイーユ桃レアチーズパンケーキ食べgigazine&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;9&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;0.00598382318072&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;ジューシー果物たっぷりパンケーキ濃厚本格チョコレートフローズンドリンクチョコリスタタリーズ新作品試食レビューgigazine&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;10&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;0.00553263508191&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;濃厚チョコパンケーキ堪能チョコレートマカダミアナッツパンケーキクア・アイナ食べgigazine&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;center&gt;図1: Gigazineへの適用結果&lt;/center&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;table&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;順位&lt;/th&gt;
      &lt;th style=&quot;text-align: center&quot;&gt;スコア&lt;/th&gt;
      &lt;th style=&quot;text-align: left&quot;&gt;文&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;1&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;0.00640543982966&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;情報特派員上記情報調べ足し情報変わっお手数上変更申請情報変更さ&lt;/strong&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;2&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;0.00454314397947&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;基地あり子供横田基地飛行機アイドリング音聞こえいた事覚え上空かなり米軍飛行空域なっ基地確か多い厚木基地あり指定地区防音工事国部屋円記憶不確か部屋円上限不確か補助金出し守る必要違う捉えるアナタ&lt;/strong&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;3&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;0.00425414876572&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;女子ダイエット気する女子ダイエット向かわ儲け過食拒食社会的圧力女子与え儲ける連中仕組ん起きる病気社会圧力負ける綺麗痩せる圧力ビジネス健康気つけ美しダイエット気する世の中狂っ&lt;/strong&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;4&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;0.00367725642988&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;事業所店舗写真店舗情報変更足す出来&lt;/strong&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;5&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;0.00361554024684&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;事業所店舗紹介店舗情報変更足す出来&lt;/strong&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;6&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;0.00357788852299&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;店舗情報変更変更しいただけ&lt;/strong&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;7&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;0.00356348614849&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;地域癌発症差ある話ジェンダーある昭和54年倍増え高齢化原因言わ腑落ち長野県死亡低い早期治療効い&lt;/strong&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;8&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;0.00327617390065&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;情報表出is広域拡散しイスラムキリスト教対立激しくなり世界混乱様相見せ&lt;/strong&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;9&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;0.00326910285843&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;ストリートビュー関連情報古い有り修正し&lt;/strong&gt;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;10&lt;/td&gt;
      &lt;td style=&quot;text-align: center&quot;&gt;0.00308015732774&lt;/td&gt;
      &lt;td style=&quot;text-align: left&quot;&gt;&lt;strong&gt;メディア書い人間居るバイアス掛かっ真実見る虚構ある斜め見るニュースデタラメある思っ丁度いい鵜呑みする&lt;/strong&gt;&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;center&gt;図2: ナビ東京への適用結果&lt;/center&gt;

&lt;h1 id=&quot;section-1&quot;&gt;単語への重み付け&lt;/h1&gt;
&lt;p&gt;次に、単語への重み付け問題に適用してみる。これはTextRankと呼ばれ、既に提案されている。ここでは、&lt;/p&gt;

&lt;p&gt;自分の近くにいる (共起している) 単語に投票する、&lt;/p&gt;

&lt;p&gt;こととする。これは隣接行列を共起行列で表現すれば良い。上の2ページに対する結果は以下のようになった。&lt;/p&gt;

&lt;h1 id=&quot;section-2&quot;&gt;おわりに&lt;/h1&gt;
&lt;p&gt;PageRankを重要文抽出、単語への重み付け問題に適用してみた。結果はまずまず。&lt;/p&gt;

&lt;p&gt;次は、ウェブページの解析に適用してみる。&lt;/p&gt;
</description>
        <pubDate>Sun, 03 Jul 2016 18:33:15 +0900</pubDate>
        <link>http://nktmemoja.github.io/jekyll/update/2016/07/03/pagerank.html</link>
        <guid isPermaLink="true">http://nktmemoja.github.io/jekyll/update/2016/07/03/pagerank.html</guid>
        
        
        <category>jekyll</category>
        
        <category>update</category>
        
      </item>
    
      <item>
        <title>グラフベースな文と単語への教師なし重み付けアルゴリズム</title>
        <description>&lt;h1 id=&quot;section&quot;&gt;はじめに&lt;/h1&gt;
&lt;p&gt;PageRankを応用して，グラフベースな教師なし文と単語への重み付けアルゴリズムを実装してみました．
コードは，gistに置いてあります（３点セットです）．&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://gist.github.com/nkt1546789/f5a8f3c5bb4445d141fe7dd03a84bcd1&quot; target=&quot;_blank&quot;&gt;graphranker.py&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://gist.github.com/nkt1546789/7562a66aa7157377fa531f164495a3be&quot; target=&quot;_blank&quot;&gt;textrank.py&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://gist.github.com/nkt1546789/a53a145282fd3befb89e5618408f4cff&quot; target=&quot;_blank&quot;&gt;tokenrank.py&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h1 id=&quot;section-1&quot;&gt;アルゴリズム&lt;/h1&gt;
&lt;p&gt;アルゴリズムはTextRankと同じです．TextRankはPageRankと同じなので，PageRankですね．
&lt;script type=&quot;math/tex&quot;&gt;N&lt;/script&gt;個のデータ点&lt;script type=&quot;math/tex&quot;&gt;V = \{1, \ldots, N\}&lt;/script&gt;に対する，隣接行列を&lt;script type=&quot;math/tex&quot;&gt;\boldsymbol{A} \in \mathbb{G}^{n \times n}&lt;/script&gt;とします．
&lt;script type=&quot;math/tex&quot;&gt;V&lt;/script&gt;に対するPageRankを&lt;script type=&quot;math/tex&quot;&gt;\boldsymbol{f} = \boldsymbol{f}(V) = [f(1) \cdots f(n)]^T&lt;/script&gt;とおくと，&lt;script type=&quot;math/tex&quot;&gt;\boldsymbol{f}&lt;/script&gt;は以下で定義されます．&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\begin{align*}
\boldsymbol{f} \leftarrow (1-d) + d \boldsymbol{A}^T \boldsymbol{f}
\end{align*}&lt;/script&gt;

&lt;p&gt;ちなみに，
# 実験&lt;/p&gt;

&lt;p&gt;以下，ウェブページに適用して，定性評価をしてみます．
とりあえず対象は，&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;メインコンテンツ内の文章が多いウェブページ
&lt;a href=&quot;http://www.lifehacker.jp/2016/07/160702_grilledapple.html&quot; target=&quot;_blank&quot;&gt;http://www.lifehacker.jp/2016/07/160702_grilledapple.html&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;メインコンテンツ内の文章が少ないページ
&lt;a href=&quot;http://navitokyo.com/0422-88-6480/&quot; target=&quot;_blank&quot;&gt;http://navitokyo.com/0422-88-6480/&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;にしようと思います．予想としては1はうまく行くけど2はダメといったところでしょうか．&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;構造を持っている (DOM)&lt;/li&gt;
  &lt;li&gt;内容のほとんどがノイズ&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;1について。ウェブページ、つまりHTMLで書かれた文書は、DOMと呼ばれる構造を持っています。重み付けを行う際に、この構造を利用したほうが、より良い結果が得られると予想できます。&lt;/p&gt;

&lt;p&gt;2について。ウェブページはサイドバー、ヘッダーフッター、広告など、自身の内容と関係のないコンテンツを多く含んでいます。ウェブページによりますが、ひどいと80%がノイズなんてケースもあります。このような状況だと、言語処理でよく使われる、&lt;strong&gt;頻度&lt;/strong&gt;が意味をなさなくなります。&lt;/p&gt;

&lt;p&gt;1,2を緩和するために、ウェブページから本文を抽出する、本文抽出 (Main contents extraction)が盛んに研究されています。本文抽出の多くの手法はDOMの構造を利用しています。教師なしと教師あり両方提案されています。本文抽出を使って、単語への重み付けを行う場合は、本文抽出をして、本文部分に強い重みをつける、という処理が考えられます。&lt;/p&gt;

&lt;p&gt;本文抽出とWeightressはここに違いがあります。Weightressは本文抽出を経ずに直接単語へ重み付けを行います。&lt;/p&gt;

&lt;h1 id=&quot;section-2&quot;&gt;アルゴリズム&lt;/h1&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;WS(v_i) = (1-d) + d \sum_{v_j \in In(v_i)} \frac{w_{ji}}{\sum_{v_k \in Out(v_j)} w_{jk}} WS(v_j)&lt;/script&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;w_{ij} = sim(b_i, b_j)&lt;/script&gt;

&lt;h1 id=&quot;section-3&quot;&gt;実験&lt;/h1&gt;
&lt;p&gt;Weightressをデータに適用し、その評価を行う。単語重み付けの正解データとはなにかを定義するのは難しいが、「ページに対して、高い重みを持つべき単語集合」を用意すれば、それなりの評価はできそうだ。そのような(ページ、単語集合)ペアを、\( \{(x_i, Y_i)\}_{i=1}^n \) とする。&lt;/p&gt;
</description>
        <pubDate>Sun, 03 Jul 2016 13:02:53 +0900</pubDate>
        <link>http://nktmemoja.github.io/jekyll/update/2016/07/03/weightressexample.html</link>
        <guid isPermaLink="true">http://nktmemoja.github.io/jekyll/update/2016/07/03/weightressexample.html</guid>
        
        
        <category>jekyll</category>
        
        <category>update</category>
        
      </item>
    
      <item>
        <title>Topic model</title>
        <description>&lt;h1 id=&quot;section&quot;&gt;はじめに&lt;/h1&gt;
&lt;p&gt;トピックモデル (Topic model) と戯れてみる。今はgensimとかあって実装しなくても使えるからかなり敷居は低いと思われる。といってもただWikipediaに適用するだけじゃ芸がないので、いろいろ実用性とかも考えながら行こうと思う。今回はとりあえず以下の3点を目指す。&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;理論的な理解&lt;/li&gt;
  &lt;li&gt;gensimの出力の理解&lt;/li&gt;
  &lt;li&gt;応用先を絞り出す&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;まずは理論的な理解から。&lt;/p&gt;

&lt;h1 id=&quot;section-1&quot;&gt;理論的な理解&lt;/h1&gt;
&lt;p&gt;記法:&lt;script type=&quot;math/tex&quot;&gt;x&lt;/script&gt;&lt;/p&gt;

&lt;p&gt;トピックモデルは以下の生成過程を仮定する。&lt;/p&gt;

&lt;h1 id=&quot;gensim&quot;&gt;gensimの出力の解釈&lt;/h1&gt;

&lt;h1 id=&quot;section-2&quot;&gt;応用先&lt;/h1&gt;

&lt;script type=&quot;text/javascript&quot; async=&quot;&quot; src=&quot;https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML&quot;&gt;
&lt;/script&gt;

</description>
        <pubDate>Sun, 03 Jul 2016 13:00:42 +0900</pubDate>
        <link>http://nktmemoja.github.io/jekyll/update/2016/07/03/topicmodel.html</link>
        <guid isPermaLink="true">http://nktmemoja.github.io/jekyll/update/2016/07/03/topicmodel.html</guid>
        
        
        <category>jekyll</category>
        
        <category>update</category>
        
      </item>
    
      <item>
        <title>Topic Modelの最尤推定の解の導出</title>
        <description>&lt;p&gt;&lt;a href=&quot;http://www.amazon.co.jp/gp/product/4061529048/ref=as_li_ss_tl?ie=UTF8&amp;amp;camp=247&amp;amp;creative=7399&amp;amp;creativeASIN=4061529048&amp;amp;linkCode=as2&amp;amp;tag=nettodesyuu00-22&quot;&gt;トピックモデル (機械学習プロフェッショナルシリーズ)&lt;/a&gt;&lt;img src=&quot;http://ir-jp.amazon-adsystem.com/e/ir?t=nettodesyuu00-22&amp;amp;l=as2&amp;amp;o=9&amp;amp;a=4061529048&quot; width=&quot;1&quot; height=&quot;1&quot; border=&quot;0&quot; alt=&quot;&quot; style=&quot;border:none !important; margin:0px !important;&quot; /&gt;の3.4章の解の導出です．LaTeX書くのが面倒なので画像で．．．笑&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://nktmemoja.github.io/assets/CDEA4F6D-2A70-4053-87F7-B5D307125B2C.jpg&quot; alt=&quot;topic modelの最尤推定の解の導出1&quot; /&gt;
&lt;img src=&quot;http://nktmemoja.github.io/assets/BE1823C6-24EB-440A-A6CC-61E15CC7C645.jpg&quot; alt=&quot;topic modelの最尤推定の解の導出1&quot; /&gt;&lt;/p&gt;
</description>
        <pubDate>Fri, 01 Jul 2016 01:07:03 +0900</pubDate>
        <link>http://nktmemoja.github.io/jekyll/update/2016/07/01/topicmodel.html</link>
        <guid isPermaLink="true">http://nktmemoja.github.io/jekyll/update/2016/07/01/topicmodel.html</guid>
        
        
        <category>jekyll</category>
        
        <category>update</category>
        
      </item>
    
      <item>
        <title>クラスタリング評価指標V-Measureについて勉強してみた</title>
        <description>&lt;h1 id=&quot;v-measure&quot;&gt;1. V-Measure&lt;/h1&gt;
&lt;hr /&gt;

&lt;p&gt;最近会社でクラスタリングを使っています．
僕は今までクラスタリングの評価指標には&lt;a href=&quot;http://nktmemoja.github.io/jekyll/update/2016/05/24/ari.html&quot; target=&quot;_blank&quot;&gt;ARI&lt;/a&gt;を使っていたのですが，もう古いみたいですね．
そこで，今回，V-Measure (Rosenberg 2007) というのを見つけたので勉強してみました．&lt;/p&gt;

&lt;p&gt;クラスタリングの評価のポイントは，大きく分けて以下の2つになるみたいです．&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Completeness: 同じクラスタに属するべきものが，同じクラスタに属している&lt;/li&gt;
  &lt;li&gt;Homogeneity: 異なるクラスタに属するべきものが，異なるクラスタに属している&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;そしてこれらは，一般に再現率と適合率のように，トレードオフの関係にあります．
例えば，全てのデータ点を1つのクラスタに入れてしまえば，Completeness=1ですが，Homogeneity=0です．
反対に，全てのデータ点を異なるクラスタに入れると，Homogeneity=1ですが，Completeness=0です．&lt;/p&gt;

&lt;p&gt;良いクラスタリングは，応用先によって違うと思うのですが，だいたいこれらのバランスを変えるだけで表現できそうな気がします．
というわけで，これらの重み付き調和平均をとって，&lt;script type=&quot;math/tex&quot;&gt;V_\beta&lt;/script&gt;-Measureは以下で定義されます．&lt;/p&gt;

&lt;script type=&quot;math/tex; mode=display&quot;&gt;\begin{align*}
V_\beta = \frac{(1+\beta)*h*c}{(\beta*h)+c}
\end{align*}&lt;/script&gt;

&lt;p&gt;ただし，&lt;script type=&quot;math/tex&quot;&gt;c&lt;/script&gt;はcompleteness, &lt;script type=&quot;math/tex&quot;&gt;h&lt;/script&gt;はhomogeneity, &lt;script type=&quot;math/tex&quot;&gt;\beta&lt;/script&gt;はcompletenessへの重みです．
&lt;script type=&quot;math/tex&quot;&gt;\beta &gt; 1&lt;/script&gt;の時，completenessをより重要視した評価になります．
&lt;script type=&quot;math/tex&quot;&gt;% &lt;![CDATA[
\beta &lt; 1 %]]&gt;&lt;/script&gt;の時，homogeneityをより重要視した評価になります．
とても使いやすそうですね．&lt;/p&gt;

&lt;p&gt;ここからは，CompletenessやHomogeneityの定義を見ていくことにします．&lt;/p&gt;

&lt;h1 id=&quot;completeness&quot;&gt;2. Completeness&lt;/h1&gt;
&lt;hr /&gt;
&lt;p&gt;割と論文の記法に沿いたいですが，あまり好きでない部分があるので適宜変えます．
今，&lt;script type=&quot;math/tex&quot;&gt;N&lt;/script&gt;個のデータ&lt;script type=&quot;math/tex&quot;&gt;D=\{1, \ldots, N\}&lt;/script&gt;があるとします．
真のクラスタ集合を&lt;script type=&quot;math/tex&quot;&gt;C=\{c_i|c_i \subseteq D\}_{i=1}^m&lt;/script&gt;，ただし&lt;script type=&quot;math/tex&quot;&gt;c_i \cap c_j = \{\} \ \forall i,j&lt;/script&gt;とします．
同様に，あるクラスタ集合（例えばクラスタリングアルゴリズムによる出力）を&lt;script type=&quot;math/tex&quot;&gt;K=\{k_i|k_i \subseteq D\}_{i=1}^n&lt;/script&gt;，ただし&lt;script type=&quot;math/tex&quot;&gt;k_i \cap k_j = \{\} \ \forall i,j&lt;/script&gt;とします．&lt;/p&gt;

&lt;p&gt;completenessは，「同じクラスタに属するべきものが，同じクラスタに属している」度合いを表すと定義しました．
そう考えると，例えば，&lt;script type=&quot;math/tex&quot;&gt;c_i&lt;/script&gt;の要素全てが&lt;script type=&quot;math/tex&quot;&gt;k_j&lt;/script&gt;に属していると，&lt;script type=&quot;math/tex&quot;&gt;c_i&lt;/script&gt;に対するcompletenessは最大ですよね．
反対に，&lt;/p&gt;

&lt;h1 id=&quot;homogeneity&quot;&gt;3. Homogeneity&lt;/h1&gt;
&lt;hr /&gt;
</description>
        <pubDate>Sun, 05 Jun 2016 15:33:17 +0900</pubDate>
        <link>http://nktmemoja.github.io/jekyll/update/2016/06/05/vmeasure.html</link>
        <guid isPermaLink="true">http://nktmemoja.github.io/jekyll/update/2016/06/05/vmeasure.html</guid>
        
        
        <category>jekyll</category>
        
        <category>update</category>
        
      </item>
    
  </channel>
</rss>
